# OSI七层模型以及底层协议

## OSI七层模型

|分层|功能|协议|
|---|---|---|
|应用层|为计算机用户提供应用接口，也为用户直接提供各种网络服务| HTTP FTP TFTP SMTP SNMP DNS TELNET HTTPS POP3 DHCP等|
|表示层|提供各种用于应用层数据的编码和转换功能,确保一个系统的应用层发送的数据能被另一个系统的应用层识别。||
|会话层|建立、管理和终止表示层实体之间的通信会话||
|传输层|为上层协议提供端到端的可靠和透明的数据传输服务，包括处理差错控制和流量控制等问题。该层向高层屏蔽了下层数据通信的细节，使高层用户看到的只是在两个传输实体间的一条主机到主机的、可由用户控制和设定的、可靠的数据通路。|TCP、UDP|
|网络层|本层通过IP寻址来建立两个节点之间的连接，为源端的运输层送来的分组，选择合适的路由和交换节点，正确无误地按照地址传送给目的端的运输层。|ICMP、IGMP、RIP、 IP（IPV4 IPV6）|
|数据链路层| 将比特组合成字节,再将字节组合成帧,使用链路层地址 (以太网使用MAC地址)来访问介质,并进行差错检测。数据链路层又分为2个子层：逻辑链路控制子层（LLC）和媒体访问控制子层（MAC）。 MAC子层处理CSMA/CD算法、数据出错校验、成帧等；LLC子层定义了一些字段使上次协议能共享数据链路层。 在实际使用中，LLC子层并非必需的。|ARP、RARP、IEEE802.3、PPP、CSMA/CD|
|物理层|通过物理介质传输比特流。规定了电平、速度和电缆针脚。常用设备有（各种物理设备）集线器、中继器、调制解调器、网线、双绞线、同轴电缆。这些都是物理层的传输介质。||

## 底层网络协议

### ARP 

Address Resolution Protocol， 地址解析协议

其作用是在以太网环境中，数据的传输所依懒的是MAC地址而非IP地址，而将已知IP地址转换为MAC地址的工作是由ARP协议来完成的。

ARP映射方式：

1. 静态映射
    创建一张ARP表，把逻辑（IP）地址和物理地址关联起来。
2. 动态映射
    动态映射时，每次只要机器知道另一台机器的逻辑（IP）地址，就可以使用协议找出相对应的物理地址。已经设计出的实现了动态映射协议的有ARP和RARP两种。ARP把逻辑（IP）地址映射为物理地址。RARP把物理地址映射为逻辑（IP）地址。
    
### ICMP

Internet Control Message Protocol，控制报文协议

用于TCP/IP网络中发送控制消息，通过可能发生在通信环境中的各种问题反馈，通过这些信息领管理者可以对所发生的问题作出诊断，然后采取适当的措施解决。

常见的：

ping、目标网络不可达、目标端口不可达、禁止访问的网络、拥塞控制、重定向、TTL超时等
