# MVCC 和 幻读

- MVCC: 叫做多版本并发控制，实际上就是保存了数据在某个时间节点的快照。

    我们每行数实际上隐藏了两列，创建时间版本号，过期(删除)时间版本号，每开始一个新的事务，版本号都会自动递增。

- 幻读：A事务读取了一个范围的内容,而同时B事务在此期间插入了一条数据.造成"幻觉".

    当你读取id> 10 的数据行时,对涉及到的所有行加上了读锁,此时例外一个事务新插入了一条id=11的数据,因为是新插入的,所以不会触发上面的锁的排斥,那么进行本事务进行下一次的查询时会发现有一条id=11的数据,而上次的查询操作并没有获取到。