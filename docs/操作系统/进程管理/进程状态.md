# 进程状态

## 三个基本状态

1) 就绪(Ready)状态
当进程已分配到除 CPU 以外的所有必要资源后，只要再获得 CPU，便可立即执行，进 程这时的状态称为就绪状态。在一个系统中处于就绪状态的进程可能有多个，通常将它们 排成一个队列，称为就绪队列。

2) 执行状态
进程已获得 CPU，其程序正在执行。在单处理机系统中，只有一个进程处于执行状态; 在多处理机系统中，则有多个进程处于执行状态。

3) 阻塞状态
正在执行的进程由于发生某事件而暂时无法继续执行时，便放弃处理机而处于暂停状态， 亦即进程的执行受到阻塞，把这种暂停状态称为阻塞状态，有时也称为等待状态或封锁状态。 致使进程阻塞的典型事件有:请求 I/O，申请缓冲空间等。通常将这种处于阻塞状态的进程也 排成一个队列。有的系统则根据阻塞原因的不同而把处于阻塞状态的进程排成多个队列。

![](/uploads/upload_e0201beea4f396084f1a747b80505c69.png)

处于就绪状态的进程，在调度程序为之分配了处理 机之后，该进程便可执行，相应地，它就由就绪状态转 变为执行状态。正在执行的进程也称为当前进程，如果 因分配给它的时间片已完而被暂停执行时，该进程便由 执行状态又回复到就绪状态;如果因发生某事件而使进 程的执行受阻(例如，进程请求访问某临界资源，而该 资源正被其它进程访问时)，使之无法继续执行，该进 程将由执行状态转变为阻塞状态。图 2-5 示出了进程的 三种基本状态以及各状态之间的转换关系。

## 挂起状态

### 引入原因

(1) 终端用户的请求。当终端用户在自己的程序运行期间发现有可疑问题时，希望暂时使自己的程序静止下来。亦即，使正在执行的进程暂停执行;若此时用户进程正处于就绪 状态而未执行，则该进程暂不接受调度，以便用户研究其执行情况或对程序进行修改。我 们把这种静止状态称为挂起状态。

(2) 父进程请求。有时父进程希望挂起自己的某个子进程，以便考查和修改该子进程， 或者协调各子进程间的活动。

(3) 负荷调节的需要。当实时系统中的工作负荷较重，已可能影响到对实时任务的控制 时，可由系统把一些不重要的进程挂起，以保证系统能正常运行。

(4) 操作系统的需要。操作系统有时希望挂起某些进程，以便检查运行中的资源使用情 况或进行记账。

### 状态转换

![](/uploads/upload_00955deaddeabd85620de2f1a5b1f448.png)

在引入挂起状态后，又将增加从挂起状态(又称为静止状态)到非挂起状态(又称为活动 状态)的转换;或者相反。可有以下几种情况:

(1) 活动就绪→静止就绪。当进程处于未被挂起的就绪状态时，称此为活动就绪状态， 表示为 Readya。当用挂起原语 Suspend 将该进程挂起后，该进程便转变为静止就绪状态， 表示为 Readys，处于 Readys 状态的进程不再被调度执行。

(2) 活动阻塞→静止阻塞。当进程处于未被挂起的阻塞状态时，称它是处于活动阻塞状 态，表示为 Blockeda。当用 Suspend 原语将它挂起后，进程便转变为静止阻塞状态，表示为 Blockeds。处于该状态的进程在其所期待的事件 出现后，将从静止阻塞变为静止就绪。

(3) 静止就绪→活动就绪。处于 Readys 状 态的进程，若用激活原语 Active 激活后，该进 程将转变为 Readya 状态。

(4) 静止阻塞→活动阻塞。处于Blockeds状 态的进程，若用激活原语 Active 激活后，该进 程将转变为 Blockeda 状态。

## 创建状态 和 终止状态

1) 创建状态
创建一个进程一般要通过两个步骤:首先，为一个新进程创建 PCB，并填写必要的管 理信息;其次，把该进程转入就绪状态并插入就绪队列之中。

2) 终止状态
进程的终止也要通过两个步骤:首先等待操作系统进行善后处理，然后将其 PCB 清零， 并将 PCB 空间返还系统。

![](/uploads/upload_5e1911e41ad58f5048d1897176e32a31.png)

![](/uploads/upload_1e9dbae89c6deb71d4c3d2037ed8b76c.png)