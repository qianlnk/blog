# 内存逃逸

逃逸分析是指由编译器决定内存分配的位置，不需要程序员指定。即由编译器决定新申请的对象会分配到堆上还是栈上。
逃逸分析场景：
1. 指针逃逸
go 将函数内定义的变量返回到函数外，会将本应分配到栈上的内存分配到堆上。
2. 栈空间不足逃逸
当栈空间不足或无法判断当前切片长度时会将对象分配到堆上。
3. 动态类型逃逸
当函数参数为 interface 类型，编译期间无法确定参数的具体类型，也可能会产生逃逸