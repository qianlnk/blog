## 持久化方式

- RDB：在指定条件内（比如多长时间内且发生键值改变）则生成数据集的时间快照，并存储到硬盘。
- AOF：记录服务器执行的所有写操作命令，并在服务器启动时，通过重新执行这些命令来还原数据集。

- 混合持久化：4.0以后
    创建出一个同时包含 RDB 数据和 AOF 数据的 AOF 文件， 其中 RDB 数据位于 AOF 文件的开头， 它们储存了服务器开始执行重写操作时的数据库状态，至于那些在重写操作执行之后执行的 Redis 命令， 则会继续以 AOF 格式追加到 AOF 文件的末尾， 也即是 RDB 数据之后。
    ![](/uploads/upload_faac7c3f0c8431480e540acc94959f2f.png)